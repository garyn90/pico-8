pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
--ascender
--by goon

function _init()
  --player table
  player={
  sprite=1,
  x=0,
  y=54,
  dx=0,
  dy=0,
  max_dx=4,
  max_dy=4,
  alive=true,
  speed=2,
  w=8,
  h=8,
  acc=0.5,
  boost=4,
  running=false,
  jumping=false,
  land=false,
  reverse=false,
  collide=false,
  }
--ground table
ground= {
  sprite=82,
  h=8,
  w=8,
  x=0,
  y=127,
  collide=false,
  }

  gravity=0.4
  friction=.75
end


-->8
--update, draw

function _update()
player_update()
player_anim()
collision(player, ground)
end
  

function _draw()
  cls()
  map(0,0)
  spr(player.sprite, player.x, player.y, 1, 1, player.reverse)
  spr(ground.sprite, ground.x, ground.y)
end





-->8
--player update(), anim() 

function player_update()
  --friction and gravity
  player.dx*=friction
  player.dy+=gravity
  if player.dy > player.max_dy then
    player.dy=player.max_dy
  end
  --movement
  
  if btn(0) then
    player.dx-=player.acc
    player.running=true
    player.reverse=true
  end
    
  if (btn(1)) then
  player.dx+=player.acc
  player.running=true
  player.reverse=false 
  end
  
  --jump
  if (btnp(4))
  and player.land then
    player.dy-=player.boost
    player.jumping=true
    player.land=false
  end
  
  player.x+=player.dx
  player.y+=player.dy
  
end

--animation
function player_anim()
  if player.running then
    player.sprite+=1
    if player.sprite > 4 then
      player.sprite=1
    end
  end
  if player.jumping then
  player.sprite=44
  player.running=false
  end
  
  if player.x < 0 then
    player.x=128
  end
  if player.x >128 then
    player.x=0 
  end
end
-->8
--collision

function collision(obj1, obj2)
  local x1=obj1.x
  local x2=obj2.x
  local y1=obj1.y
  local y2=obj2.y
  local w1=obj1.w
  local w2=obj2.w
  local h1=obj1.h
  local xdiff=x2-x1
  local ydiff=y2-y1
  
  rectfill(0,0,30,30,2)
  cursor(0,0,3)
  cls()
  print(x1)
  print(y1)
  print(x2)
  print(y2)
  
  
  if x2 <(x1 + w1) 
  and y2 <(y1 + h1) then
    obj2.collide=true
    obj1.collide=true
  end
  
  if obj2.collide and
    obj1.land==true then
    obj1.dy=0
    print("you muda fucka")
  end   
end
__gfx__
00000000a000a000a000a000a000a000a000a0000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000
00000000aaaaa000aaaaa000aaaaa000aaaaa0000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000
00700700aaaaa000aaaaa000aaaaa000aaaaa0000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000
000770004fcfc0004fcfc0004fcfc0004fcfc0000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000
000770004ffff0004ffff0004ffff0004ffff0000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000
00700700022200000222000002220000022200000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000
00000000f222f00002f200000222f00002f200000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000
00000000010100000010000001010000001000000000000000000000888888880000000000000000000000000000000000000000000000000000000000000000
000a0a0a000a0a0a000a0a0a000a0a0a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000aaaaa000aaaaa000aaaaa000aaaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000aaaaa000aaaaa000aaaaa000aaaaa000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000cfcf4000cfcf4000cfcf4000cfcf4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000ffff4000ffff4000ffff4000ffff4000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00002220000022200000222000002220000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000f222f00002f20000f222000002f20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00001010000001000000101000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a000a000a000a000a000a00000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000aaaaa000aaaaa000aaaaa00000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000aaaaa000aaaaa000aaaaa00000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004fcfc0f04fcfc0004fcfc00000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004ff5f2004ff5f0004ff5f00000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000222200002220000f2222f0000000000
000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000f2220000f222f0000222000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010002000100020000010100000000000
00000000a0a0a000a0a0a000a0a0a000a0a0a000a0a0a00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaa000aaaaa000aaaaa000aaaaa000aaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000aaaaa000aaaaa000aaaaa000aaaaa000aaaaa00000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000004fcfc0004fcfc0004fcfc0004fcfc0004fcfc00000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000004ffff0004ffff0004ffff0004ffff0004ffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000022200000222000002220000022200000222000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000f222f00002f200000222f00002f20000f222f00000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000010200000010000002010000001000000102000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbbcccccccccccccccccccccccccccbcccce6e6e6e60000000000000000000000000000000000000000cccccccc00000000000000000000000000000000
bbbbbbbbccccccccccccccccc7777cccccbbbccc6e6e6e6e0000000000000000000000000000000000000000cccccccc00000000000000000000000000000000
33333333ccccccccccccccccc7777ccccb3b3bcce6e6e6e60000000000000000000000000000000000000000cccccccc00000000000000000000000000000000
33333333ccccccccccccc7ccc7777cccb3bbb3bc6e6e6e6e0000000000000000000000000000000000000000ccc8cccc00000000000000000000000000000000
44344434ccccccccccccccccc7777cccccc4cccce6e6e6e60000000000000000000000000000000000000000ccc8cccc00000000000000000000000000000000
44344434ccccccccccccccccccccccccccc4cccc6e6e6e6e0000000000000000000000000000000000000000cc565ccc00000000000000000000000000000000
43444344ccccccccccccccccccccccccccc4cccce6e6e6e60000000000000000000000000000000000000000cc666ccc00000000000000000000000000000000
43443444ccccccccccccccccccccccccccc4cccc6e6e6e6e0000000000000000000000000000000000000000c86668cc00000000000000000000000000000000
bbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
bbbbbbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
33333333000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
43444344000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44344434000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
44344434000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
43444443000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
a0a0a000a0a0a000a0a0a000a0a0a000a0a0a000a0a0a000a0a0a000a0a0a0000000000000000000000000000000000000000000000000000000000000000000
aaaaa000aaaaa000aaaaa000aaaaa000aaaaa000aaaaa000aaaaa000aaaaa0000000000000000000000000000000000000000000000000000000000000000000
aaaaa000aaaaa000aaaaa000aaaaa000aaaaa000aaaaa000aaaaa000aaaaa0000000000000000000000000000000000000000000000000000000000000000000
4fcfc0004fcfc0004fcfc0004fcfc0004fcfc0004fcfc0004fcfc0004fcfc0000000000000000000000000000000000000000000000000000000000000000000
4ffff0004ffff0004ffff0004ffff0004ffff0004ffff0004ffff0004ffff0000000000000000000000000000000000000000000000000000000000000000000
02220000022200000222000002220000022200000222000002220000022200000000000000000000000000000000000000000000000000000000000000000000
f222f00002f200000222f00002f20000f222f00002f200000222f00002f200000000000000000000000000000000000000000000000000000000000000000000
010a0000001000000a01000000100000010a0000001000000a010000001000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000022200aaa0022200aaa00222200aaaaa00222000aaa00000000000000000000000000000000000000000000000000
00000000000000000000000000000000000020200a000020000a0000200200a000a00200000a00a0000000000000000000000000000000000000000000000000
00000000000000000000000000000000000022200aaa0020000aaa00200200a00a000222000aaaa0000000000000000000000000000000000000000000000000
0000000000000000000000000000000000002020000a0020000a0000200200a0a0000200000a00a0000000000000000000000000000000000000000000000000
00000000000000000000000000000000000020200aaa0022200aaa00200200aa00000222000a00a0000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4141414141414141414141414141414100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4444444444444444444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
4040404040404040404040404040404000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100003b7503b7503b7503a7503975038750357502f75029750247501e75039000140001600015000160000b000029000290002900029000190001900009000090000900009000270000900009000090000900
